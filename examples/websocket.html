<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<script src="https://code.jquery.com/jquery-2.0.3.min.js"></script>
	<style>
		.connected {
			visibility: hidden;
		}
		.disconnected {
			visibility: visible;
		}
	</style>
	<script>
		var socket;
		function ws_connect() {
			socket = new WebSocket("wss://localhost:8080/websocket/socket");
			socket.onopen = function() {
				$(".disconnected").css("visibility", "hidden");
				$(".connected").css("visibility", "visible");
			}
			socket.onclose = function() {
				$(".disconnected").css("visibility", "visible");
				$(".connected").css("visibility", "hidden");
			}
			socket.onerror = function() {
				alert("ERROR!!!");
				socket.close();
			}
			socket.onmessage = function(msg) {
				alert(msg.data);
			}
		}

		function ws_send() {
			socket.send($("#input").val());
		}

		function ws_disconnect() {
			socket.close();
		}
	</script>
</head>
<body>
	<h1>WS Test</h1>
	<button type="button" class="disconnected" onclick="ws_connect()">Connect</button><br />
	<button type="button" class="connected" onclick="ws_disconnect()">Disconnect</button><br />
	<input type="text" id="input" class="connected"><button type="button" class="connected" onclick="ws_send()">Send</button><br />
</body>
</html>
